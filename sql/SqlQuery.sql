CREATE TABLE [dbo].[Courses] (
    [Id] [uniqueidentifier] NOT NULL,
    [Price] [float] NOT NULL,
    [CourseTypeId] [uniqueidentifier] NOT NULL,
    [InstructorId] [uniqueidentifier] NOT NULL,
    [Identification] [varchar](180) NOT NULL,
    [Active] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Courses] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[CourseTypes] (
    [Id] [uniqueidentifier] NOT NULL,
    [Identification] [varchar](100) NOT NULL,
    [Active] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.CourseTypes] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Instructors] (
    [Id] [uniqueidentifier] NOT NULL,
    [LicenseNumber] [int] NOT NULL,
    [Identification] [varchar](150) NOT NULL,
    [BirthDate] [datetime] NOT NULL,
    [Email] [varchar](120) NOT NULL,
    [Active] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Instructors] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[OrderDetails] (
    [Id] [uniqueidentifier] NOT NULL,
    [OrderId] [uniqueidentifier] NOT NULL,
    [CourseId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.OrderDetails] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Orders] (
    [Id] [uniqueidentifier] NOT NULL,
    [OrderDateTime] [datetime] NOT NULL,
    [StudentId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Orders] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Students] (
    [Id] [uniqueidentifier] NOT NULL,
    [AcademicRegistration] [int] NOT NULL,
    [Identification] [varchar](150) NOT NULL,
    [BirthDate] [datetime] NOT NULL,
    [Email] [varchar](120) NOT NULL,
    [Active] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Students] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_CourseTypeId] ON [dbo].[Courses]([CourseTypeId])
CREATE INDEX [IX_InstructorId] ON [dbo].[Courses]([InstructorId])
CREATE INDEX [IX_OrderId] ON [dbo].[OrderDetails]([OrderId])
CREATE INDEX [IX_CourseId] ON [dbo].[OrderDetails]([CourseId])
CREATE INDEX [IX_StudentId] ON [dbo].[Orders]([StudentId])
ALTER TABLE [dbo].[Courses] ADD CONSTRAINT [FK_dbo.Courses_dbo.CourseTypes_CourseTypeId] FOREIGN KEY ([CourseTypeId]) REFERENCES [dbo].[CourseTypes] ([Id])
ALTER TABLE [dbo].[Courses] ADD CONSTRAINT [FK_dbo.Courses_dbo.Instructors_InstructorId] FOREIGN KEY ([InstructorId]) REFERENCES [dbo].[Instructors] ([Id])
ALTER TABLE [dbo].[OrderDetails] ADD CONSTRAINT [FK_dbo.OrderDetails_dbo.Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [dbo].[Courses] ([Id])
ALTER TABLE [dbo].[OrderDetails] ADD CONSTRAINT [FK_dbo.OrderDetails_dbo.Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [dbo].[Orders] ([Id])
ALTER TABLE [dbo].[Orders] ADD CONSTRAINT [FK_dbo.Orders_dbo.Students_StudentId] FOREIGN KEY ([StudentId]) REFERENCES [dbo].[Students] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201701281909275_AutomaticMigration', N'RR.CoursesCenter.Infrastructure.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5C5B6FE336167E5F60FF83A0C7456A251914E8064E8B8C3353043B490671A6D8B780916887588972252A4850EC2FDB87FD49FD0BA56E14AF122559762E833CC416C98F87E7C6C3A343FFF9BFFFCF7F798A42E71126298AF1A97B343B741D88FD3840787DEA6664F5C34FEE2F3FFFFD6FF34F41F4E4FC56F7FB90F7A323717AEA3E10B239F1BCD47F8011486711F293388D5764E6C7910782D83B3E3CFCA77774E4410AE1522CC799DF6498A008165FE8D7458C7DB82119082FE3008669F59CB62C0B54E70A4430DD001F9EBA3737B3459C25294C17101398CC2EF02A012949329F64099C9D0302680FDAF4445CE72C4480D2B884E1CA7500C6310184AEE0E45B0A972489F17AB9A10F4078FBBC81B4DF0A8429AC5676D274B75DE4E171BE48AF195843F9594AE2A827E0D1878A6B9E3C7C10EF5DC655CAD74F94FFE4395F75C1DB53B7E4A9EBC8539D2CC224EFA661FC39ED87F0AC1459D576E018BA1D30E5A13A96FF1D388B2CCC25768A614612101E385FB3FB10F9FF82CFB7F17F203EC55918F24453B2699BF0803EFA9AC41B9890E71BB8AA967211B88E278EF3E4816C1837A65CE6AF19A29FAFE8DCE03E844C25BCD6E15F13E4C31AE13CA6EB80BD314AAEE5102389B9C0A535C4C958A0804A10AD905F295D0945ED863A07D7B9044F5F205E9307EA367EA2EEE0337A8241FDA4C2FF8611F525741025A83F47CE7C821E195B3FC6710801EE46B9028F685D906CE4B0EBDCC0B0E8923EA04DE91F664DF35DA5C17451491CDDC4A130B86EBDBB05C91A5227731B1BBB2CE97FBF07898DEC5A48BCE37BC914728D6C769140BE47BD045BFAAE930026E7900014A65A0AB90E77B54F6948545B15266ABAE89838F71A1766E1D84AA18F746E79D777EAE0EC5DC1E12B72057A15EEED07F466A6751583549837F7C12ADC80BC5315FE42B7689CC2AB2CBA87498D7481C987E309ADE1C749ACE1234AC8030D749B90837EBEA501756FA44F54EE61DB028EDF88395BEF99FA4D5DB7AB0EB2656E7B1B61CC1CCA3BB5E6820323314AAEF505E950C2ED4445F296D21238F50ADD3AA9AB7AE9892B3EB7D256F618B5DB55148CB38DF76C15CD6630727358922CDFE8B66620BD0E0F168AD876741055D596C26AC566E2EE580F89B0BA416F1DAC759465B0B907DB4685F04EADE3CC07018C907F03D788EEE642F0F63D107C138160616D2DCEA5DB7EB54E45B16E1BFB3D4BD3D84705194A2E829D2CC5757DC281D37DCC2C65241E55A9B0A8A1A20D354D4A0A9597C2B3566CB66A195BC6FD87824B4D1A26B919807011E75132F52344B57F847DB40161E7F2A49196BE2397029B436E39871B8873F175AEDF6672314FAB92C166939C5B179FE61EA730367AC41F69DA45ADCD09F697741BAC4681F8135797728E50220D153BD3210D63ADE61632F47B5121CD89C424ECB6E349236DE1606BAF496D19E12E0DDD921A9949D8811E99996BEF8BF6AB446C4B6D15B11A1F4BAAD35B69D41DBB4164BBFC740A234FBF2B5D911969332F7790DBBBB329856DE30EA46CC3565D8D7480ECD0C5091C8D40C08EFD8CC0589BB959B26D07DA53C6D27901071D01938A82BCAA83157528C7DF6F29AC4EC069750E917520C75C422265EA9AB85DDA67141DD28D4F8B098D286554DE81D444023A203E82EA0012732B0A92603236504690CEE195B3D10130B72C4170AA2033597C0DC77534BFAC9375D4EA50C556214B575179AB739402A7263BC4455B3344789161E287F168607938E824DFF234C0E1089A3E9A17BA84BACA8CAE20D736CCE59621DA590B535A02DB299443CA6E1878A18FD52CA2359903166B57E2330EA3F1115BD584CA41B52B822600B10C41C6AA81187474B2B4851975CA896D93AC6DEE952593D583B967A8AD9C5F82CD06E135576B593D719665A1E5E28765FF3AC3A8C4F0FC54536EC8A86533516F00D6506ACDAD22809F5192927CDBBF07B9812C8248E9C60705863DA99E49D8F75569D5FB54DD3DFF5C0EE9536E3AD3E337ACFD4C571BE53159BE70A8BA0165A09357C08210249A44F8220EB3089B8343F3E8AA5A9107A81ED9638859301EAA3D3FD6B226212922ACAE355DD2C625313B2F724C6CB347AD53D63C5AFD4C45997B92EC95085AD13EC909C8BADC43D3AB1866627D2F02DDA13AAF1F3C8DDEBF637DE0A3AFC9D4C11C745AA843DBE069D4412A08E381A4A67DAB18F79A8F07E41EDB63552FFA789CEAD11B537921449B4CE7F983757FA56F1D3D8DD6B35C0E0F614CF098719AD4B3BAF9EB91F6A907536BC050D9EF54EA4D718022FBA6C91E93CB2AF3782DC9E6BDE9003B6F4EA6058683B5851E18474EA309FA2218D193EB7A7CDF035FEC1EA86403E42E6C769615904EFFF3EA24DE7DFD52399A975D5C87B2E71105F9B17CF99C121895E6B1FC3D5C84A84849D51D2E01462B9892B27CCC3D3E3C3A96EE69BE9C3B935E9A06A12693A15E9C14A5B5830AB80CA3DF33882A7BCAA3D431771657610CC856AE2CAA7429AF6B2E70009F4EDD3F0A9413E7E2DF773CD08153EC4827CEA1F3DFADDC7D1C44110F348E226D89E02348FC0790A8B72847D5CFDDA32E190EB936F7FA54BB07CF0F5F10CF8DF55CAF81E7DAEB5508F7772A3D84F7637FE12915B301FD4C4657CC6AC93B7E41BA653C69BE0AE5926EFB0CF2E815C628672EDF181AB1D9F5A2A4E7E599572A60F9E2CA60D3542EAE0C921343994250FAA2B9D720AAB65B14DFFDFD9EFCFD96EE1A6CED72C13E6E12ECAEECFBEDDD13E08B8A0696F0EF4F055ADF3BED53055E579DBFB5D8DA642F141A0EADD91DE108765C4BFB76AAF459E9D890327A49FE43AAFB07C9DC9C759F46E86FB1DA7E48F9FB4BB0777B81ECD8DCF75F2DAFD6CFC9E2EB590F5F26F969F07C1F532997D1292BCAB62A962FC348C30465A379126D29764B2D7D4729BD6EA2B6F264792241B795998456DD546DB5A3FAB9CCB5F846FC6E64E6DC156CD6A2433796EEEEBE885F5349ADBB74A10D7294912FB1405FD568B9546A5F4B9DA0FEDE9A5CF3FE63A8AC7941D5F592D10905009DCB5417F862EBE7BB499D508A3DAAE3D5F7DE7433E67E9C980603295A3710F94F1563E80BDB30EB738157711D0E4814D55DA4F4CF255D5A40F7E8B384A015F0096DF6619A163FBEF11B08B322ED740F830B7C9D914D46E89261741F3EF3CCC8A38AB6F98B2B0022CDF3EB4DF1E318DB58022513E539B56BFC314361C0E8FEAC495E1920F270E557489F97B2CC738A70FDCC90AE626C0954B18F4559B730DA84142CBDC64B90A7D9FAD3F62D855FE01AF8CF75F98219A45B1022DBE7E708AC1310A51546339E7EA53A1C444F3FFF0597FC1BBCA35B0000 , N'6.1.3-40302')

